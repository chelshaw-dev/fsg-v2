<div id="top-spacer"></div>

<div class="container-fluid banner-bg">
  <div class="row expanded padtop-1 padbot-3">
    <div class="col-xs-12 col-md-6 col-md-offset-3 text-center">
      <h1 class="special-font purple-text"><strong>Play with me!</strong></h1>
      <p class="lead">This is our demo page that functions exactly like the real events page, except this is just a selected set of 2016 events. There are tons of 2017 events waiting for you on the other side of <strong><a ui-sref="register">sign-up</a></strong>!</p>
      <p><a class="btn btn-outline" ui-sref="demoMap">Play with the map, too</a></p>
    </div>
  </div>
</div>

<div id="top"></div>

<section class="gray-bg padtop-1 padbot-2">
  <div class="container-fluid full-height">
    <div id="top-filter-buttons" class="row">
      <div class="xs-width col-sm-6">
        <a ng-click="showHappeningNow()" ng-class="{'active':filter.date=='now'}" class="btn btn-outline-pink happening-now pull-left">Happening Now</a>
        <div class="fave-btn large pull-left pad-left" ng-class="{'active': filter.faves == 'yes'}" ng-click="showFavorites()">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g><circle id="fave-circle" cx="15" cy="15" r="14.09" stroke-miterlimit="10"/><path id="fave-heart" d="M23.12,12s0-.07,0-.09A4.67,4.67,0,0,0,18.7,8h-.15A4.69,4.69,0,0,0,15,9.65a4.69,4.69,0,0,0-8.25,3.07A4.65,4.65,0,0,0,8.05,16s6.43,7.17,6.92,7.17S21.91,16,21.91,16l.09-.1A4.62,4.62,0,0,0,23.12,12Z" stroke-miterlimit="10"/></g></svg>
        </div>
        <a class="mobile-filter-nav hidden-md-up pull-right" ng-click="showFilterMenu = !showFilterMenu">Filters</a>
      </div>
      <div class="xs-width col-sm-6">
        <div id="search-container" class="pull-right">
          <div id="search-btn" class="show-md-up" ng-click="filter.search = ''" ng-class="{'searching': filter.search !== ''}"></div>
          <input id="search" class="form-control show-md-up pull-right" placeholder="Search the guide…" ng-model="filter.search" ng-model-options="{ debounce: 200 }" />
        </div>
      </div>
    </div>

    <div id="filter-sidebar" ng-class="{'mobile-show':showFilterMenu}">
      <div id="filter-sidebar--inner" class="padbot-1">
        <div id="search-container">
          <div id="search-btn" class="hidden-md-up" ng-click="filter.search = ''" ng-class="{'searching': filter.search !== ''}"></div>
          <input id="search" class="hidden-md-up form-control marbot-1" placeholder="Search the guide…" ng-model="filter.search" ng-model-options="{ debounce: 200 }" />
          <div class="clearfix"></div>
        </div>

        <div class="filterset">
          <div class="title purple-bg" ng-click="toggleFilter($event)">Free Stuff <div class="arrow pull-right"></div></div>
          <fieldset class="form-group form-inline">
            <input type="checkbox" name="food" id="free-food" ng-model="filter.food" /> <label for="free-food">Food</label>
            <input type="checkbox" name="drink" id="free-drink" ng-model="filter.drink" /> <label for="free-drink">Drink</label>
            <input type="checkbox" name="swag" id="free-swag" ng-model="filter.swag" /> <label for="free-swag">Swag</label>
            <input type="checkbox" name="recharge" id="free-recharge" ng-model="filter.recharge" /> <label for="free-recharge">Recharge Station</label>
            <input type="checkbox" name="music" id="free-music" ng-model="filter.music" /> <label for="free-music">Music</label>
          </fieldset>
        </div>

        <div class="filterset filters-closed">
          <div class="title purple-bg" ng-click="toggleFilter($event)">Date <div class="arrow pull-right"></div></div>
          <fieldset class="form-group form-inline">
            <input type="radio" name="date-all" id="date-all" ng-model="filter.date" value="all"> <label for="date-all">All </label>
            <span ng-repeat="date in demoDates">
              <input type="radio" id="{{date.name}}" name="{{date.value}}" value="{{date.value}}" ng-model="filter.date"> <label for="{{date.name}}">{{date.pretty}}</label>
            </span>
            <input type="radio" name="date-now" id="date-now" ng-model="filter.date" value="now"> <label for="date-now">Happening Now </label>
          </fieldset>
        </div>

        <div class="filterset filters-closed">
          <div class="title purple-bg" ng-click="toggleFilter($event)">Favorites <div class="arrow pull-right"></div></div>
          <fieldset class="form-group form-inline">
            <input type="radio" name="all-faves" id="all-faves" ng-model="filter.faves" value="all"> <label for="all-faves">Any </label>
            <input type="radio" name="faves" id="faves" ng-model="filter.faves" value="yes"> <label for="faves">Favorited</label>
            <input type="radio" name="no-faves" id="no-faves" ng-model="filter.faves" value="no"> <label for="no-faves">Not Favorited</label>
          </fieldset>
        </div>

        <div class="filterset filters-closed">
          <div class="title purple-bg" ng-click="toggleFilter($event)">RSVP'd <div class="arrow pull-right"></div></div>
          <fieldset class="form-group form-inline">
            <input type="radio" name="all-rsvp" id="all-rsvp" ng-model="filter.rsvp" value="all"> <label for="all-rsvp">Any </label>
            <input type="radio" name="rsvp" id="rsvp" ng-model="filter.rsvp" value="yes"> <label for="rsvp">RSVP'd</label>
            <input type="radio" name="no-rsvp" id="no-rsvp" ng-model="filter.rsvp" value="no"> <label for="no-rsvp">Not RSVP'd</label>
          </fieldset>
        </div>

        <div class="filterset filters-closed">
          <div class="title purple-bg" ng-click="toggleFilter($event)">Badge Level <div class="arrow pull-right"></div></div>
          <fieldset class="form-group form-inline">
            <input type="radio" ng-model="filter.badge" name="badgeLevel" id="badge-any" value="-1"> <label for="badge-any">All</label>
            <input type="radio" ng-model="filter.badge" name="badgeLevel" id="badge-walk-in" value="0"> <label for="badge-walk-in">Walk In</label>
            <input type="radio" ng-model="filter.badge" name="badgeLevel" id="badge-rsvp" value="10"> <label for="badge-rsvp">RSVP</label>
            <input type="radio" ng-model="filter.badge" name="badgeLevel" id="badge-wb-priority" value="20"> <label for="badge-wb-priority">Wristband/Badge Priority</label>
          </fieldset>
        </div>

        <div class="filterset filters-closed">
          <div class="title purple-bg" ng-click="toggleFilter($event)">Music Tags <div class="arrow pull-right"></div></div>
          <fieldset class="form-group form-inline">
            <p><span class="music-tag" ng-repeat="tag in genres">
              <a class="btn btn-outline" ng-click="addMusicTags(tag)" ng-class="{'added':e.inMusicTags(tag) >= 0}">{{tag | uppercase}}</a>
            </span></p>
          </fieldset>
        </div>

        <div class="filterset filters-closed">
          <div class="title purple-bg" ng-click="toggleFilter($event)">Order By <div class="arrow pull-right"></div></div>
          <fieldset class="form-group form-inline">
            <input type="radio" ng-model="sortEventsBy" name="sortEventsBy" id="sort-any" value=""> <label for="sort-any">Date &amp; Time</label>
            <input type="radio" ng-model="sortEventsBy" name="sortEventsBy" id="sort-walk-in" value="title"> <label for="sort-walk-in">Title</label>
            <input type="radio" ng-model="sortEventsBy" name="sortEventsBy" id="sort-rsvp" value="-createdOn"> <label for="sort-rsvp">Recently Created</label>
          </fieldset>
        </div>

        <button class="pull-right btn btn-small btn-outline" ng-click="filterReset()">Clear</button>
        <button class="btn btn-danger btn-small text-center" ng-show="showFilterMenu" ng-click="showFilterMenu = !showFilterMenu">Done</button>
        <div class="clearfix"></div>
      </div>
    </div>

    <div id="events-container" ng-controller="demoCardsController as cardsCtrl">
      <!-- NG-REPEAT: searchAll:filter.search | food:filter.food | drink:filter.drink | swag:filter.swag | recharge:filter.recharge | music:filter.music | genres:filter.musicTags | credentials:filter.badge | genres:filter.musicTags | date:filter.date | favesFilter:filter.faves | RSVPFilter:filter.rsvp | idFilter:e.paramId | orderBy:sortEventsBy | startFrom:(currentPage * pageSize)  -->
      <div class="xs-width col-sm-4 card-outer" id="eid-{{event.eid}}" data-row="{{findRow($index)}}" data-col="{{findCol($index)}}"
            ng-repeat="event in events | food:filter.food | drinks:filter.drink | swag:filter.swag | recharge:filter.recharge | music:filter.music | limitTo: pageSize">
        <div class="card" ng-click="expandCard(findRow($index),findCol($index),event)" ng-class="{'card--active':activeCard.eid===event.eid}"><!-- ng-click="expandCard(findRow($index),findCol($index),event)"  -->
          <div ng-if="currentUserIsAdmin === true" style="position:absolute;top:0px;right:0px;" class="hide-for-print"><a ui-sref="editEvent({ eid: event.eid })">Edit</a></div>
          <div class="card__header">
            <h3 class="purple-text">{{event.title | uppercase}}</h3>
            <!-- TO-DO:  printDateDisplayStart()
            <p class="card-date show-for-print-only"><small>{{printDateDisplayStart(event.days) | date: 'MMMM d • h:mma'}}–{{printDateDisplayEnd(event.days) | date: 'h:mma'}}</small></p>
            -->
          </div>
          <div class="card__body">
            <free-icons food="event.food" drink="event.drink" swag="event.swag" recharge="event.recharge" music="event.music"></free-icons>
            <card-location name="event.locationName" addr="event.locationAddress"></card-location>
            <p class="card-date hide-for-print"><small>
              <date-display days="event.days"></date-display>
            </small></p>
            <p class="text-left purple-text hide-for-print"><small><a>Read more</a></small></p>
            <div class="card__bottom hide-for-print">
              <card-disclaimer credential="event.credentialLevel" age="event.age"></card-disclaimer>
              <card-user-buttons rsvp="event.RSVPLink" eid="event.eid"></card-user-buttons>
              <div class="clearfix"></div>
            </div>
          </div>
        </div>
      </div>
      <div ng-if="!bootStatus">
        <h3 class="text-center gray-text padtop-3">Preparing demo…</h3>
      </div>
      <div class="row-fluid">
        <div class="col-sm-12" ng-if="filteredEvents.length == 0">
          <h4 ng-hide="filter.date === 'now'" class="text-center martop-2">Womp womp, nothing matched! :( <br/>Try using different filters</h4>
          <h4 ng-show="filter.date === 'now'" class="text-center martop-2">Silly goose! SXSW hasn't event started yet!</h4>
          <p class="text-center"><a class="btn btn-outline" ng-click="filterReset()">Clear filters</a></p>
          <img ng-show="filter.date === 'now'" class="img-max-300 img-center" src="http://www.canadagoosetapes.com/wp-content/themes/cgt/library/images/goosehead.gif" alt="You are a goose" />
        </div>
        <div class="col-sm-12 card-outer" ng-if="bootStatus">
          <!-- TO-DO LATER
          <register-modal></register-modal>
          -->
        </div>
      </div>
      <div class="clearfix"></div>

      <div id="events-pagination" class="padtop-2" ng-if="filterEvents().length > 70">
        <a class="pagination previous" ng-click="setCurrentPage(currentPage-1)" ng-if="currentPage>=1">&lsaquo;</a>
        <a ng-repeat="i in getNumberAsArray(numberOfPages()) track by $index" ng-click="setCurrentPage($index)" class="pagination" ng-class="{'active':currentPage===$index}">{{$index + 1}}</a>
        <a class="pagination next" ng-click="setCurrentPage(currentPage+1)" ng-if="numberOfPages()>(currentPage+1)">&rsaquo;</a>
      </div>
    </div><!-- events container-->
  </div>
  <div class="clearfix"></div>
</section>
